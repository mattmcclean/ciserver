import jenkins.model.*
import hudson.tasks.Maven.MavenInstallation
import hudson.tasks.Ant.AntInstallation

if (Jenkins.instance.getBuilder("Maven").getInstallations().size()==0) {
  println("Adding Maven Installation")
  Jenkins.instance.getBuilder("Maven").setInstallations(new MavenInstallation("<%= node[:jenkins][:maven][:name] %>", "<%= node[:jenkins][:maven][:home] %>"))
} else {
  println("Maven installation already exists")
}

if (Jenkins.instance.getBuilder("Ant").getInstallations().size()==0) {
  println("Adding Ant Installation")
  Jenkins.instance.getBuilder("Ant").setInstallations(new AntInstallation("<%= node[:jenkins][:ant][:name] %>", "<%= node[:jenkins][:ant][:home] %>"))
} else {
  println("Ant installation already exists")
}